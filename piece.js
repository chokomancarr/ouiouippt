'use strict';

import * as util from "./util.js"

export const PC_NONE = 0;
export const PC_L = 1;
export const PC_J = 2;
export const PC_S = 3;
export const PC_Z = 4;
export const PC_I = 5;
export const PC_T = 6;
export const PC_O = 7;
export const PC_GARBAGE_MASK = 0xF0;

export const names = [ "-", "L", "J", "S", "Z", "I", "T", "O" ];

export const colors = {
    1: "#ff6000",
    2: "#33c",
    3: "#3c3",
    4: "#c33",
    5: "#55c",
    6: "#909",
    7: "#cc0",
    0x10: "#999",
    0xF0: "#777"
}

export const mask = [
    null,
    [ // --- L ---
        [0, 1,  1, 1,   2, 1,   2, 2],
        [1, 0,  2, 0,   1, 1,   1, 2],
        [0, 0,  0, 1,   1, 1,   2, 1],
        [0, 2,  1, 0,   1, 1,   1, 2]
    ],
    [ // --- J ---
        [0, 1,  1, 1,   2, 1,   0, 2],
        [1, 0,  2, 2,   1, 1,   1, 2],
        [2, 0,  0, 1,   1, 1,   2, 1],
        [0, 0,  1, 0,   1, 1,   1, 2]
    ],
    [ // --- S ---
        [0, 1,  1, 1,   1, 2,   2, 2],
        [1, 2,  1, 1,   2, 1,   2, 0],
        [0, 0,  1, 0,   1, 1,   2, 1],
        [0, 2,  0, 1,   1, 1,   1, 0],
    ],
    [ // --- Z ---
        [0, 2,  1, 2,   1, 1,   2, 1],
        [1, 0,  1, 1,   2, 1,   2, 2],
        [0, 1,  1, 1,   1, 0,   2, 0],
        [0, 0,  0, 1,   1, 1,   1, 2]
    ],
    [ // --- I ---
        [0, 2,  1, 2,   2, 2,   3, 2],
        [2, 0,  2, 1,   2, 2,   2, 3],
        [0, 1,  1, 1,   2, 1,   3, 1],
        [1, 0,  1, 1,   1, 2,   1, 3]
    ],
    [ // --- T ---
        [0, 1,  1, 1,   2, 1,   1, 2],
        [1, 0,  1, 1,   2, 1,   1, 2],
        [1, 0,  1, 1,   2, 1,   0, 1],
        [1, 0,  1, 1,   1, 2,   0, 1],
    ],
    [ // --- O --
        [1, 1,  2, 1,   1, 2,   2, 2],
        [1, 1,  2, 1,   1, 2,   2, 2],
        [1, 1,  2, 1,   1, 2,   2, 2],
        [1, 1,  2, 1,   1, 2,   2, 2]
    ],
];

export const SRS = {
    NOT_I: {
        0x01: [[-1, 0], [-1, 1], [ 0,-2], [-1,-2]],
        0x10: [[ 1, 0], [ 1,-1], [ 0, 2], [ 1, 2]],
        0x12: [[ 1, 0], [ 1,-1], [ 0, 2], [ 1, 2]],
        0x21: [[-1, 0], [-1, 1], [ 0,-2], [-1,-2]],
        0x23: [[ 1, 0], [ 1, 1], [ 0,-2], [ 1,-2]],
        0x32: [[-1, 0], [-1,-1], [ 0, 2], [-1, 2]],
        0x30: [[-1, 0], [-1,-1], [ 0, 2], [-1, 2]],
        0x03: [[ 1, 0], [ 1, 1], [ 0,-2], [ 1,-2]],
    },
    I: {
        0x01: [[-2, 0], [ 1, 0], [-2,-1], [ 1, 2]],
        0x10: [[ 2, 0], [-1, 0], [ 2, 1], [-1,-2]],
        0x12: [[-1, 0], [ 2, 0], [-1, 2], [ 2,-1]],
        0x21: [[ 1, 0], [-2, 0], [ 1,-2], [-2, 1]],
        0x23: [[ 2, 0], [-1, 0], [ 2, 1], [-1,-2]],
        0x32: [[-2, 0], [ 1, 0], [-2,-1], [ 1, 2]],
        0x30: [[ 1, 0], [-2, 0], [ 1,-2], [-2, 1]],
        0x03: [[-1, 0], [ 2, 0], [-1, 2], [ 2,-1]],
    }
};